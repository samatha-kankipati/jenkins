Started by user [8mha:AAAAlh+LCAAAAAAAAABb85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzOEgYu/dLi1CL9vNKcHACFIKlWvwAAAA==[0manonymous
Building in workspace /var/lib/jenkins/jobs/TSearchDeployToStaging/workspace
Checkout:workspace / /var/lib/jenkins/jobs/TSearchDeployToStaging/workspace - hudson.remoting.LocalChannel@6788af79
Using strategy: Default
Last Built Revision: Revision b28f2d9ded6f533e08677d532ded0094df06bddd (origin/master)
Fetching changes from 1 remote Git repository
Fetching upstream changes from origin
Commencing build of Revision b28f2d9ded6f533e08677d532ded0094df06bddd (origin/master)
Checking out Revision b28f2d9ded6f533e08677d532ded0094df06bddd (origin/master)
[workspace] $ /bin/sh -xe /tmp/hudson4203337650013347366.sh
+ sh /var/lib/jenkins/jobs/TSearchDeployToStaging/workspace/service/src/main/scripts/deploy-application.sh 0.1.0_b187 staging
environment in warhammer is staging
environment is staging
======================= Starting Deployment =======================
Version:	'0.1.0_b187'
Server:		'node3.staging.search.api.rackspace.com'
===================================================================


Using temporary directory '/tmp/deploy.R1462'.


Fetching files...
--2013-10-14 19:58:16--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b187/search-0.1.0_b187.war
Resolving d-build1.iad2.corp.rackspace.com... 10.4.39.20
Connecting to d-build1.iad2.corp.rackspace.com|10.4.39.20|:8100... connected.
HTTP request sent, awaiting response... 200 OK
Length: 41126502 (39M) [application/octet-stream]
Saving to: `/tmp/deploy.R1462/search-0.1.0_b187.war'

     0K ........ ........ ........ ........ ........ ........  7% 4.26M 9s
  3072K ........ ........ ........ ........ ........ ........ 15% 7.89M 6s
  6144K ........ ........ ........ ........ ........ ........ 22% 3.35M 7s
  9216K ........ ........ ........ ........ ........ ........ 30% 4.39M 6s
 12288K ........ ........ ........ ........ ........ ........ 38% 6.19M 5s
 15360K ........ ........ ........ ........ ........ ........ 45% 5.50M 4s
 18432K ........ ........ ........ ........ ........ ........ 53% 4.12M 4s
 21504K ........ ........ ........ ........ ........ ........ 61% 2.98M 3s
 24576K ........ ........ ........ ........ ........ ........ 68% 1.29M 4s
 27648K ........ ........ ........ ........ ........ ........ 76% 1.21M 3s
 30720K ........ ........ ........ ........ ........ ........ 84% 1.84M 2s
 33792K ........ ........ ........ ........ ........ ........ 91% 2.06M 1s
 36864K ........ ........ ........ ........ ........ ........ 99% 1.69M 0s
 39936K ...                                                  100% 1.15M=15s

2013-10-14 19:58:32 (2.57 MB/s) - `/tmp/deploy.R1462/search-0.1.0_b187.war' saved [41126502/41126502]

--2013-10-14 19:58:32--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b187/search-0.1.0_b187.war.md5
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 32 [text/plain]
Saving to: `/tmp/deploy.R1462/search-0.1.0_b187.war.md5'

     0K                                                      100% 3.05M=0s

2013-10-14 19:58:33 (3.05 MB/s) - `/tmp/deploy.R1462/search-0.1.0_b187.war.md5' saved [32/32]

--2013-10-14 19:58:33--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b187/search-0.1.0_b187-config.zip
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 49489 (48K) [application/zip]
Saving to: `/tmp/deploy.R1462/search-0.1.0_b187-config.zip'

     0K                                                      100% 97.3M=0s

2013-10-14 19:58:33 (97.3 MB/s) - `/tmp/deploy.R1462/search-0.1.0_b187-config.zip' saved [49489/49489]

--2013-10-14 19:58:33--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b187/search-0.1.0_b187-config.zip.md5
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 32 [text/plain]
Saving to: `/tmp/deploy.R1462/search-0.1.0_b187-config.zip.md5'

     0K                                                      100% 3.05M=0s

2013-10-14 19:58:33 (3.05 MB/s) - `/tmp/deploy.R1462/search-0.1.0_b187-config.zip.md5' saved [32/32]

FINISHED --2013-10-14 19:58:33--
Downloaded: 4 files, 39M in 15s (2.57 MB/s)
...done.


Verifying MD5s...
OK cf8304530af0d9314ee0cd60f9cc9a3f  /tmp/deploy.R1462/search-0.1.0_b187.war
OK 4ab741314d0e4c29f16258f68f0fe382  /tmp/deploy.R1462/search-0.1.0_b187-config.zip
done.


Copying files to server 'node3.staging.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK cf8304530af0d9314ee0cd60f9cc9a3f  node3.staging.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b187.war
OK 4ab741314d0e4c29f16258f68f0fe382  node3.staging.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b187-config.zip
...done.

Copying files to server 'node2.staging.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK cf8304530af0d9314ee0cd60f9cc9a3f  node2.staging.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b187.war
OK 4ab741314d0e4c29f16258f68f0fe382  node2.staging.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b187-config.zip
...done.

Copying files to server 'node1.staging.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK cf8304530af0d9314ee0cd60f9cc9a3f  node1.staging.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b187.war
OK 4ab741314d0e4c29f16258f68f0fe382  node1.staging.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b187-config.zip
...done.



Mon Oct 14 19:59:08 UTC 2013 : Deploying to server 'node3.staging.search.api.rackspace.com'...Waiting for the domain to stop ...
Command stop-domain executed successfully.
Mon Oct 14 19:59:16 UTC 2013 : deployment done. starting server...
Waiting for search to start ..........................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Mon Oct 14 20:00:01 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.
Mon Oct 14 20:01:01 UTC 2013 : Deploying to server 'node2.staging.search.api.rackspace.com'...Waiting for the domain to stop ....
Command stop-domain executed successfully.
Mon Oct 14 20:01:09 UTC 2013 : deployment done. starting server...
Waiting for search to start .........................................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Mon Oct 14 20:02:09 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.
Mon Oct 14 20:03:10 UTC 2013 : Deploying to server 'node1.staging.search.api.rackspace.com'...Waiting for the domain to stop ...
Command stop-domain executed successfully.
Mon Oct 14 20:03:18 UTC 2013 : deployment done. starting server...
Waiting for search to start .........................................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Mon Oct 14 20:04:18 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.


Mon Oct 14 20:05:19 UTC 2013 : Cleaning up...done.


======================= Deployment Complete =======================

Finished: SUCCESS
