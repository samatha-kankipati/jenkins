2013-11-14 17:57:27,724: DEBUG: root: 
========================================================
SETTING UP testrepo.tq_search.core_ongoing_sync.test_zendesk_ongoing_sync.TestZenDeskOngoingSync at 2013-11-14 17:57:27.724357
========================================================
2013-11-14 17:57:27,725: ERROR: ccengine.domain.configuration.TQSearchConfig: No option 'account_service_level' in section: 'gate'
2013-11-14 17:57:27,725: ERROR: ccengine.domain.configuration.TQSearchConfig: No option 'account_territory_code' in section: 'gate'
2013-11-14 17:57:27,728: ERROR: ccengine.domain.configuration.AuthConfig: No option 'api_key' in section: 'auth'
2013-11-14 17:57:27,729: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.auth.auth_client.AuthClient object at 0x137313d0>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi//login/melissa.biles') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'data': '{"password": "qwerty"}'}
2013-11-14 17:57:27,730: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-11-14 17:57:28,004: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi//login/melissa.biles HTTP/1.1" 200 None
2013-11-14 17:57:28,075: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi//login/melissa.biles
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'22', 'Content-Type': 'application/json', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : {"password": "qwerty"}

2013-11-14 17:57:28,076: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.346403121948
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 17:57:27 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : {"authtoken": "18346b5c94dcdda15d9d2fd27b214a48"}
-------------------------------------------------------------------------------
2013-11-14 17:57:28,082: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.zendesk.zendesk_api.ZendeskTicketClient object at 0x137b9550>, 'POST', 'https://mosso.zendesk.com/api/v2/tickets.json') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'auth': <requests.auth.HTTPBasicAuth object at 0x137b9510>, 'data': '{"ticket": {"comment": {"body": "ts-staging"}, "priority": "low", "tags": ["Linux"], "assignee_id": 296396271, "group_id": 20596722, "subject": "zen desk ticket"}}'}
2013-11-14 17:57:28,084: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): mosso.zendesk.com
2013-11-14 17:57:29,372: DEBUG: requests.packages.urllib3.connectionpool: "POST /api/v2/tickets.json HTTP/1.1" 201 3528
2013-11-14 17:57:29,373: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://mosso.zendesk.com/api/v2/tickets.json
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'163', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'Content-Type': 'application/json', 'Authorization': u'Basic aXNsX3FlX3VzcUBsaXN0cy5tb3Nzby5jb206akBja3M='})
request body    : {"ticket": {"comment": {"body": "ts-staging"}, "priority": "low", "tags": ["Linux"], "assignee_id": 296396271, "group_id": 20596722, "subject": "zen desk ticket"}}

2013-11-14 17:57:29,373: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [201]>
response time    : 1.29033613205
response headers : CaseInsensitiveDict({'status': '201 Created', 'content-length': '3528', 'x-zendesk-request-id': 'f28361494dabbfd4894f', 'x-runtime': '0.969140', 'x-content-type-options': 'nosniff', 'x-zendesk-api-version': 'v2', 'server': 'nginx/1.4.2', 'date': 'Thu, 14 Nov 2013 17:57:28 GMT', 'connection': 'keep-alive', 'x-request-id': '24b5ff35ae9094897c70c2eae0a6c4c4', 'location': 'https://mosso.zendesk.com/api/v2/tickets/1967799.json', 'cache-control': 'max-age=0, private, must-revalidate', 'x-zendesk-user-id': '295324093', 'etag': '"46590a530fe375f6e009df07c22e7a20"', 'x-zendesk-origin-server': 'app25.pod1.ord.zdsys.com', 'content-type': 'application/json; charset=UTF-8', 'x-rack-cache': 'invalidate, pass', 'x-ua-compatible': 'IE=Edge,chrome=1'})
response body    : {"ticket":{"url":"https://mosso.zendesk.com/api/v2/tickets/1967799.json","id":1967799,"external_id":null,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"created_at":"2013-11-14T17:57:28Z","updated_at":"2013-11-14T17:57:28Z","type":null,"subject":"zen desk ticket","description":"ts-staging","priority":"low","status":"open","recipient":null,"requester_id":295324093,"submitter_id":295324093,"assignee_id":296396271,"organization_id":20825923,"group_id":20596722,"collaborator_ids":[],"forum_topic_id":null,"problem_id":null,"has_incidents":false,"due_at":null,"tags":["linux"],"custom_fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"linux"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}],"satisfaction_rating":null,"sharing_agreement_ids":[],"fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"linux"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}]},"audit":{"id":20388092256,"ticket_id":1967799,"created_at":"2013-11-14T17:57:28Z","author_id":295324093,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"metadata":{"system":{"client":"python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen","ip_address":"74.205.117.244","location":"San Antonio, TX, United States","latitude":29.4889,"longitude":-98.3987},"custom":{}},"events":[{"id":20388092276,"type":"Comment","author_id":295324093,"body":"ts-staging\n\n--\r\nHave you tried the New Rackspace Cloud Control Panel yet? Try it today: http://mycloud.rackspace.com","html_body":"<p>ts-staging</p>\n\n<p>--\n<br />Have you tried the New Rackspace Cloud Control Panel yet? Try it today: <a href=\"http://mycloud.rackspace.com\" target=\"_blank\">http://mycloud.rackspace.com</a></p>","public":true,"trusted":true,"attachments":[]},{"id":20388092296,"type":"Create","value":"zen desk ticket","field_name":"subject"},{"id":20388092306,"type":"Create","value":"296396271","field_name":"assignee_id"},{"id":20388092316,"type":"Create","value":"20596722","field_name":"group_id"},{"id":20388092326,"type":"Create","value":["linux"],"field_name":"tags"},{"id":20388092336,"type":"Create","value":"low","field_name":"priority"},{"id":20388092346,"type":"Create","value":"295324093","field_name":"requester_id"},{"id":20388092356,"type":"Create","value":"open","field_name":"status"},{"id":20388092366,"type":"Create","value":null,"field_name":"type"},{"id":20388092376,"type":"Create","value":"20825923","field_name":"organization_id"},{"id":20388092386,"type":"Notification","via":{"channel":"rule","source":{"to":{},"from":{"id":253605,"title":"Notify assignee of assignment"},"rel":"trigger"}},"subject":"[{{ticket.account}}] Assignment: {{ticket.title}}","body":"You have been assigned to this ticket (#{{ticket.id}}).\r\n\r\nTo review the status of the ticket and add updates, follow the link below:\r\nhttp://{{ticket.url}}             \r\n\r\n{{ticket.comments_formatted}}\r\n\r\n--------------------------\r\n\r\nThis notification has been sent via the trigger \"Notify assignee of assignment\" in your zendesk. You can customize this and other triggers from the menu tab \"Manage\" > \"Triggers\"          ","recipients":[296396271]}]}}
-------------------------------------------------------------------------------
2013-11-14 17:57:29,375: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.zendesk.zendesk_api.ZendeskTicketClient object at 0x137b9550>, 'POST', 'https://mosso.zendesk.com/api/v2/tickets.json') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'auth': <requests.auth.HTTPBasicAuth object at 0x137b9510>, 'data': '{"ticket": {"priority": "low", "comment": {"body": "ts-staging"}, "group_id": 20596722, "assignee_id": 296396271, "subject": "zen desk ticket2"}}'}
2013-11-14 17:57:29,376: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): mosso.zendesk.com
2013-11-14 17:57:30,246: DEBUG: requests.packages.urllib3.connectionpool: "POST /api/v2/tickets.json HTTP/1.1" 201 3458
2013-11-14 17:57:30,247: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://mosso.zendesk.com/api/v2/tickets.json
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'145', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'Content-Type': 'application/json', 'Authorization': u'Basic aXNsX3FlX3VzcUBsaXN0cy5tb3Nzby5jb206akBja3M='})
request body    : {"ticket": {"priority": "low", "comment": {"body": "ts-staging"}, "group_id": 20596722, "assignee_id": 296396271, "subject": "zen desk ticket2"}}

2013-11-14 17:57:30,247: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [201]>
response time    : 0.871927022934
response headers : CaseInsensitiveDict({'status': '201 Created', 'content-length': '3458', 'x-zendesk-request-id': 'a2a5b9dee5af1085ba96', 'x-runtime': '0.656934', 'x-content-type-options': 'nosniff', 'x-zendesk-api-version': 'v2', 'server': 'nginx/1.4.2', 'date': 'Thu, 14 Nov 2013 17:57:29 GMT', 'connection': 'keep-alive', 'x-request-id': '602086d7925f2f43b5dc93796958e519', 'location': 'https://mosso.zendesk.com/api/v2/tickets/1967800.json', 'cache-control': 'max-age=0, private, must-revalidate', 'x-zendesk-user-id': '295324093', 'etag': '"a8f20a37cb2e6fe6506ccb10994afb26"', 'x-zendesk-origin-server': 'app23.pod1.ord.zdsys.com', 'content-type': 'application/json; charset=UTF-8', 'x-rack-cache': 'invalidate, pass', 'x-ua-compatible': 'IE=Edge,chrome=1'})
response body    : {"ticket":{"url":"https://mosso.zendesk.com/api/v2/tickets/1967800.json","id":1967800,"external_id":null,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"created_at":"2013-11-14T17:57:29Z","updated_at":"2013-11-14T17:57:29Z","type":null,"subject":"zen desk ticket2","description":"ts-staging","priority":"low","status":"open","recipient":null,"requester_id":295324093,"submitter_id":295324093,"assignee_id":296396271,"organization_id":20825923,"group_id":20596722,"collaborator_ids":[],"forum_topic_id":null,"problem_id":null,"has_incidents":false,"due_at":null,"tags":[],"custom_fields":[{"id":105853,"value":null},{"id":102692,"value":null},{"id":436749,"value":null},{"id":108885,"value":null},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":null},{"id":105830,"value":null},{"id":105820,"value":null},{"id":22267031,"value":null},{"id":20674741,"value":null}],"satisfaction_rating":null,"sharing_agreement_ids":[],"fields":[{"id":105853,"value":null},{"id":102692,"value":null},{"id":436749,"value":null},{"id":108885,"value":null},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":null},{"id":105830,"value":null},{"id":105820,"value":null},{"id":22267031,"value":null},{"id":20674741,"value":null}]},"audit":{"id":19944594047,"ticket_id":1967800,"created_at":"2013-11-14T17:57:29Z","author_id":295324093,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"metadata":{"system":{"client":"python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen","ip_address":"74.205.117.244","location":"San Antonio, TX, United States","latitude":29.4889,"longitude":-98.3987},"custom":{}},"events":[{"id":19944594057,"type":"Comment","author_id":295324093,"body":"ts-staging\n\n--\r\nHave you tried the New Rackspace Cloud Control Panel yet? Try it today: http://mycloud.rackspace.com","html_body":"<p>ts-staging</p>\n\n<p>--\n<br />Have you tried the New Rackspace Cloud Control Panel yet? Try it today: <a href=\"http://mycloud.rackspace.com\" target=\"_blank\">http://mycloud.rackspace.com</a></p>","public":true,"trusted":true,"attachments":[]},{"id":19944594067,"type":"Create","value":"zen desk ticket2","field_name":"subject"},{"id":19944594077,"type":"Create","value":"296396271","field_name":"assignee_id"},{"id":19944594087,"type":"Create","value":"20596722","field_name":"group_id"},{"id":19944594097,"type":"Create","value":"low","field_name":"priority"},{"id":19944594107,"type":"Create","value":"295324093","field_name":"requester_id"},{"id":19944594117,"type":"Create","value":"open","field_name":"status"},{"id":19944594127,"type":"Create","value":null,"field_name":"type"},{"id":19944594137,"type":"Create","value":"20825923","field_name":"organization_id"},{"id":19944594147,"type":"Notification","via":{"channel":"rule","source":{"to":{},"from":{"id":253605,"title":"Notify assignee of assignment"},"rel":"trigger"}},"subject":"[{{ticket.account}}] Assignment: {{ticket.title}}","body":"You have been assigned to this ticket (#{{ticket.id}}).\r\n\r\nTo review the status of the ticket and add updates, follow the link below:\r\nhttp://{{ticket.url}}             \r\n\r\n{{ticket.comments_formatted}}\r\n\r\n--------------------------\r\n\r\nThis notification has been sent via the trigger \"Notify assignee of assignment\" in your zendesk. You can customize this and other triggers from the menu tab \"Manage\" > \"Triggers\"          ","recipients":[296396271]}]}}
-------------------------------------------------------------------------------
2013-11-14 18:00:00,256: DEBUG: root: 
========================================================
test_tkt_create_zen_desk STARTING at 2013-11-14 18:00:00.256647
========================================================
2013-11-14 18:00:00,257: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'number': 1967799, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'verify': False, 'data': None}
2013-11-14 18:00:00,258: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:00:00,282: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=1967799&limit=100&offset=0 HTTP/1.1" 200 None
2013-11-14 18:00:00,283: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=1967799&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:00:00,283: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0255460739136
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:02:35 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"tags":["linux"],"queue":{"id":20596722,"name":"Hybrid - International SMB"},"technology":"linux","location":"NONE","status":"Open","subCategory":null,"submitter":{"id":295324093,"email":"isl_qe_usq@lists.mosso.com","name":"ISL-QE-USQ"},"subject":"zen desk ticket","categoryObj":null,"updateEventDate":"2013-11-14T17:57:28.000+0000","assignee":{"id":296396271,"email":"isl_dev@lists.mosso.com","name":"ISL-DEV"},"number":"1967799","documentLastUpdatedTimestamp":"2013-11-14T17:57:57.977Z","subCategoryObj":null,"hasWindowsServers":false,"updatedAt":"2013-11-14T17:57:28.000+0000","category":null,"sourceSystem":"ZENDESK","createdAt":"2013-11-14T17:57:28.000+0000","priority":"Low","hasLinuxServers":true,"account":{"id":"CLOUD000000","number":"000000","type":"CLOUD"},"link":{"href":"http://staging.search.api.rackspace.com/tickets/1967799","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:00:00,284: DEBUG: root: 
========================================================
test_tkt_create_zen_desk COMPLETED at 2013-11-14 18:00:00.284748
========================================================
2013-11-14 18:00:00,285: DEBUG: root: 
========================================================
test_tkt_faceting STARTING at 2013-11-14 18:00:00.285154
========================================================
2013-11-14 18:00:00,285: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets/zendesk') {'headers': {}, 'params': {}, 'verify': False, 'data': None}
2013-11-14 18:00:00,286: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:00:00,329: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets/zendesk HTTP/1.1" 404 None
2013-11-14 18:00:00,330: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets/zendesk
request params  : 
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:00:00,330: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [404]>
response time    : 0.0444939136505
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:02:35 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"itemNotFound":{"message":"Not Found","detail":"Ticket not found","code":404}}
-------------------------------------------------------------------------------
2013-11-14 18:00:00,330: ERROR: ccengine.domain.tq_search.response.tq_search.Search: 'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/var/lib/jenkins/jobs/CloudCAFE/workspace/lib/ccengine/domain/base_domain.py", line 93, in deserialize
    ret = getattr(cls, '_%s_to_obj' % format_type)(serialized_str)
  File "/var/lib/jenkins/jobs/CloudCAFE/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 118, in _json_to_obj
    for ticket in response.get("tickets"):
AttributeError: 'NoneType' object has no attribute 'get'
2013-11-14 18:00:00,331: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Attempted to deserialize type using type: json
2013-11-14 18:00:00,331: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Unble to deserialize the following:
{"itemNotFound":{"message":"Not Found","detail":"Ticket not found","code":404}}
2013-11-14 18:01:40,334: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'number': 1967800, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'verify': False, 'data': None}
2013-11-14 18:01:40,336: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:01:40,362: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=1967800&limit=100&offset=0 HTTP/1.1" 200 None
2013-11-14 18:01:40,363: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=1967800&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:01:40,363: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0278890132904
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:04:15 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"tags":[],"queue":{"id":20596722,"name":"Hybrid - International SMB"},"technology":null,"location":"NONE","status":"Open","subCategory":null,"submitter":{"id":295324093,"email":"isl_qe_usq@lists.mosso.com","name":"ISL-QE-USQ"},"subject":"zen desk ticket2","categoryObj":null,"updateEventDate":"2013-11-14T17:57:29.777+0000","assignee":{"id":296396271,"email":"isl_dev@lists.mosso.com","name":"ISL-DEV"},"number":"1967800","documentLastUpdatedTimestamp":"2013-11-14T17:58:09.333Z","subCategoryObj":null,"hasWindowsServers":false,"updatedAt":"2013-11-14T17:57:29.000+0000","category":null,"sourceSystem":"ZENDESK","createdAt":"2013-11-14T17:57:29.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"CLOUD000000","number":"000000","type":"CLOUD"},"link":{"href":"http://staging.search.api.rackspace.com/tickets/1967800","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967800&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967800&offset=0"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:01:40,365: DEBUG: root: 
========================================================
test_tkt_faceting COMPLETED at 2013-11-14 18:01:40.364995
========================================================
2013-11-14 18:01:40,365: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_assignee STARTING at 2013-11-14 18:01:40.365409
========================================================
2013-11-14 18:01:40,365: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.zendesk.zendesk_api.ZendeskTicketClient object at 0x137b9550>, 'PUT', 'https://mosso.zendesk.com/api/v2/tickets/1967800.json') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'auth': <requests.auth.HTTPBasicAuth object at 0x137b9510>, 'data': '{"ticket": {"assignee_id": 472132118}}'}
2013-11-14 18:01:40,367: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): mosso.zendesk.com
2013-11-14 18:01:41,047: DEBUG: requests.packages.urllib3.connectionpool: "PUT /api/v2/tickets/1967800.json HTTP/1.1" 200 None
2013-11-14 18:01:41,049: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : PUT
request url     : https://mosso.zendesk.com/api/v2/tickets/1967800.json
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'38', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'Content-Type': 'application/json', 'Authorization': u'Basic aXNsX3FlX3VzcUBsaXN0cy5tb3Nzby5jb206akBja3M='})
request body    : {"ticket": {"assignee_id": 472132118}}

2013-11-14 18:01:41,049: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.682888031006
response headers : CaseInsensitiveDict({'status': '200 OK', 'x-zendesk-api-version': 'v2', 'x-zendesk-request-id': '276e00e05bfa00304580', 'x-runtime': '0.475184', 'x-content-type-options': 'nosniff', 'content-encoding': 'gzip', 'transfer-encoding': 'chunked', 'x-request-id': 'a009cc67d4c4e591950f510c8cef612b', 'server': 'nginx/1.4.2', 'date': 'Thu, 14 Nov 2013 18:01:40 GMT', 'connection': 'keep-alive', 'x-ua-compatible': 'IE=Edge,chrome=1', 'cache-control': 'max-age=0, private, must-revalidate', 'x-zendesk-user-id': '295324093', 'content-type': 'application/json; charset=UTF-8', 'x-rack-cache': 'invalidate, pass', 'x-zendesk-origin-server': 'app13.pod1.ord.zdsys.com'})
response body    : {"ticket":{"url":"https://mosso.zendesk.com/api/v2/tickets/1967800.json","id":1967800,"external_id":null,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"created_at":"2013-11-14T17:57:29Z","updated_at":"2013-11-14T18:01:40Z","type":null,"subject":"zen desk ticket2","description":"ts-staging","priority":"low","status":"open","recipient":null,"requester_id":295324093,"submitter_id":295324093,"assignee_id":472132118,"organization_id":20825923,"group_id":20596722,"collaborator_ids":[],"forum_topic_id":null,"problem_id":null,"has_incidents":false,"due_at":null,"tags":[],"custom_fields":[{"id":105853,"value":null},{"id":102692,"value":null},{"id":436749,"value":null},{"id":108885,"value":null},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":null},{"id":105830,"value":null},{"id":105820,"value":null},{"id":22267031,"value":null},{"id":20674741,"value":null}],"satisfaction_rating":null,"sharing_agreement_ids":[],"fields":[{"id":105853,"value":null},{"id":102692,"value":null},{"id":436749,"value":null},{"id":108885,"value":null},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":null},{"id":105830,"value":null},{"id":105820,"value":null},{"id":22267031,"value":null},{"id":20674741,"value":null}]},"audit":{"id":20013142013,"ticket_id":1967800,"created_at":"2013-11-14T18:01:40Z","author_id":295324093,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"metadata":{"system":{"client":"python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen","ip_address":"74.205.117.244","location":"San Antonio, TX, United States","latitude":29.4889,"longitude":-98.3987},"custom":{}},"events":[{"id":20013142023,"type":"Change","value":"472132118","field_name":"assignee_id","previous_value":"296396271"},{"id":20013142033,"type":"Notification","via":{"channel":"rule","source":{"to":{},"from":{"id":253605,"title":"Notify assignee of assignment"},"rel":"trigger"}},"subject":"[{{ticket.account}}] Assignment: {{ticket.title}}","body":"You have been assigned to this ticket (#{{ticket.id}}).\r\n\r\nTo review the status of the ticket and add updates, follow the link below:\r\nhttp://{{ticket.url}}             \r\n\r\n{{ticket.comments_formatted}}\r\n\r\n--------------------------\r\n\r\nThis notification has been sent via the trigger \"Notify assignee of assignment\" in your zendesk. You can customize this and other triggers from the menu tab \"Manage\" > \"Triggers\"          ","recipients":[472132118]}]}}
-------------------------------------------------------------------------------
2013-11-14 18:03:21,053: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'number': 1967800, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'verify': False, 'data': None}
2013-11-14 18:03:21,055: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:03:21,086: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=1967800&limit=100&offset=0 HTTP/1.1" 200 None
2013-11-14 18:03:21,087: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=1967800&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:03:21,087: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0337059497833
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:05:56 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"tags":[],"queue":{"id":20596722,"name":"Hybrid - International SMB"},"technology":null,"location":"NONE","status":"Open","subCategory":null,"submitter":{"id":295324093,"email":"isl_qe_usq@lists.mosso.com","name":"ISL-QE-USQ"},"subject":"zen desk ticket2","categoryObj":null,"updateEventDate":"2013-11-14T18:01:40.777+0000","assignee":{"id":472132118,"email":"tq_delta@rackspace.local","name":"TQ_Delta Service Account"},"number":"1967800","documentLastUpdatedTimestamp":"2013-11-14T18:01:54.288Z","subCategoryObj":null,"hasWindowsServers":false,"updatedAt":"2013-11-14T18:01:40.000+0000","category":null,"sourceSystem":"ZENDESK","createdAt":"2013-11-14T17:57:29.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"CLOUD000000","number":"000000","type":"CLOUD"},"link":{"href":"http://staging.search.api.rackspace.com/tickets/1967800","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967800&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967800&offset=0"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:03:21,089: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_assignee COMPLETED at 2013-11-14 18:03:21.089074
========================================================
2013-11-14 18:03:21,089: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_devices STARTING at 2013-11-14 18:03:21.089537
========================================================
2013-11-14 18:03:21,089: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.zendesk.zendesk_api.ZendeskTicketClient object at 0x137b9550>, 'PUT', 'https://mosso.zendesk.com/api/v2/tickets/1967800.json') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'auth': <requests.auth.HTTPBasicAuth object at 0x137b9510>, 'data': '{"ticket": {"tags": ["windows"]}}'}
2013-11-14 18:03:21,091: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): mosso.zendesk.com
2013-11-14 18:03:21,919: DEBUG: requests.packages.urllib3.connectionpool: "PUT /api/v2/tickets/1967800.json HTTP/1.1" 200 None
2013-11-14 18:03:21,921: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : PUT
request url     : https://mosso.zendesk.com/api/v2/tickets/1967800.json
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'33', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'Content-Type': 'application/json', 'Authorization': u'Basic aXNsX3FlX3VzcUBsaXN0cy5tb3Nzby5jb206akBja3M='})
request body    : {"ticket": {"tags": ["windows"]}}

2013-11-14 18:03:21,921: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.830758810043
response headers : CaseInsensitiveDict({'status': '200 OK', 'x-zendesk-api-version': 'v2', 'x-zendesk-request-id': '691e2d958f60cb2777b5', 'x-runtime': '0.613301', 'x-content-type-options': 'nosniff', 'content-encoding': 'gzip', 'transfer-encoding': 'chunked', 'x-request-id': 'b35bb246ff28a1cae1b6ca7679066ab4', 'server': 'nginx/1.4.2', 'date': 'Thu, 14 Nov 2013 18:03:21 GMT', 'connection': 'keep-alive', 'x-ua-compatible': 'IE=Edge,chrome=1', 'cache-control': 'max-age=0, private, must-revalidate', 'x-zendesk-user-id': '295324093', 'content-type': 'application/json; charset=UTF-8', 'x-rack-cache': 'invalidate, pass', 'x-zendesk-origin-server': 'app27.pod1.ord.zdsys.com'})
response body    : {"ticket":{"url":"https://mosso.zendesk.com/api/v2/tickets/1967800.json","id":1967800,"external_id":null,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"created_at":"2013-11-14T17:57:29Z","updated_at":"2013-11-14T18:03:21Z","type":null,"subject":"zen desk ticket2","description":"ts-staging","priority":"low","status":"open","recipient":null,"requester_id":295324093,"submitter_id":295324093,"assignee_id":472132118,"organization_id":20825923,"group_id":20596722,"collaborator_ids":[],"forum_topic_id":null,"problem_id":null,"has_incidents":false,"due_at":null,"tags":["windows"],"custom_fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"windows"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}],"satisfaction_rating":null,"sharing_agreement_ids":[],"fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"windows"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}]},"audit":{"id":19944921157,"ticket_id":1967800,"created_at":"2013-11-14T18:03:21Z","author_id":295324093,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"metadata":{"system":{"client":"python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen","ip_address":"74.205.117.244","location":"San Antonio, TX, United States","latitude":29.4889,"longitude":-98.3987},"custom":{}},"events":[{"id":19944921167,"type":"Change","value":["windows"],"field_name":"tags","previous_value":[]}]}}
-------------------------------------------------------------------------------
2013-11-14 18:05:01,927: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'number': 1967799, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'verify': False, 'data': None}
2013-11-14 18:05:01,929: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:05:01,961: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=1967799&limit=100&offset=0 HTTP/1.1" 200 None
2013-11-14 18:05:01,962: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=1967799&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:05:01,963: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.034679889679
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:07:37 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"tags":["linux"],"queue":{"id":20596722,"name":"Hybrid - International SMB"},"technology":"linux","location":"NONE","status":"Open","subCategory":null,"submitter":{"id":295324093,"email":"isl_qe_usq@lists.mosso.com","name":"ISL-QE-USQ"},"subject":"zen desk ticket","categoryObj":null,"updateEventDate":"2013-11-14T17:57:28.000+0000","assignee":{"id":296396271,"email":"isl_dev@lists.mosso.com","name":"ISL-DEV"},"number":"1967799","documentLastUpdatedTimestamp":"2013-11-14T17:57:57.977Z","subCategoryObj":null,"hasWindowsServers":false,"updatedAt":"2013-11-14T17:57:28.000+0000","category":null,"sourceSystem":"ZENDESK","createdAt":"2013-11-14T17:57:28.000+0000","priority":"Low","hasLinuxServers":true,"account":{"id":"CLOUD000000","number":"000000","type":"CLOUD"},"link":{"href":"http://staging.search.api.rackspace.com/tickets/1967799","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:05:01,964: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_devices COMPLETED at 2013-11-14 18:05:01.964370
========================================================
2013-11-14 18:05:01,964: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_priority STARTING at 2013-11-14 18:05:01.964810
========================================================
2013-11-14 18:05:01,965: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.zendesk.zendesk_api.ZendeskTicketClient object at 0x137b9550>, 'PUT', 'https://mosso.zendesk.com/api/v2/tickets/1967799.json') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'auth': <requests.auth.HTTPBasicAuth object at 0x137b9510>, 'data': '{"ticket": {"priority": "urgent"}}'}
2013-11-14 18:05:01,966: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): mosso.zendesk.com
2013-11-14 18:05:02,687: DEBUG: requests.packages.urllib3.connectionpool: "PUT /api/v2/tickets/1967799.json HTTP/1.1" 200 None
2013-11-14 18:05:02,688: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : PUT
request url     : https://mosso.zendesk.com/api/v2/tickets/1967799.json
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'34', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'Content-Type': 'application/json', 'Authorization': u'Basic aXNsX3FlX3VzcUBsaXN0cy5tb3Nzby5jb206akBja3M='})
request body    : {"ticket": {"priority": "urgent"}}

2013-11-14 18:05:02,689: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.723104000092
response headers : CaseInsensitiveDict({'status': '200 OK', 'x-zendesk-api-version': 'v2', 'x-zendesk-request-id': 'e502730507080d7eee8c', 'x-runtime': '0.528530', 'x-content-type-options': 'nosniff', 'content-encoding': 'gzip', 'transfer-encoding': 'chunked', 'x-request-id': '8ac5493a8fbfbb99b9fabd596f82edb5', 'server': 'nginx/1.4.2', 'date': 'Thu, 14 Nov 2013 18:05:02 GMT', 'connection': 'keep-alive', 'x-ua-compatible': 'IE=Edge,chrome=1', 'cache-control': 'max-age=0, private, must-revalidate', 'x-zendesk-user-id': '295324093', 'content-type': 'application/json; charset=UTF-8', 'x-rack-cache': 'invalidate, pass', 'x-zendesk-origin-server': 'app36.pod1.ord.zdsys.com'})
response body    : {"ticket":{"url":"https://mosso.zendesk.com/api/v2/tickets/1967799.json","id":1967799,"external_id":null,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"created_at":"2013-11-14T17:57:28Z","updated_at":"2013-11-14T18:05:01Z","type":null,"subject":"zen desk ticket","description":"ts-staging","priority":"urgent","status":"open","recipient":null,"requester_id":295324093,"submitter_id":295324093,"assignee_id":296396271,"organization_id":20825923,"group_id":20596722,"collaborator_ids":[],"forum_topic_id":null,"problem_id":null,"has_incidents":false,"due_at":null,"tags":["linux"],"custom_fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"linux"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}],"satisfaction_rating":null,"sharing_agreement_ids":[],"fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"linux"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}]},"audit":{"id":20013371443,"ticket_id":1967799,"created_at":"2013-11-14T18:05:01Z","author_id":295324093,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"metadata":{"system":{"client":"python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen","ip_address":"74.205.117.244","location":"San Antonio, TX, United States","latitude":29.4889,"longitude":-98.3987},"custom":{}},"events":[{"id":20013371453,"type":"Change","value":"urgent","field_name":"priority","previous_value":"low"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:06:42,689: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'number': 1967799, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'verify': False, 'data': None}
2013-11-14 18:06:42,691: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:06:42,716: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=1967799&limit=100&offset=0 HTTP/1.1" 200 None
2013-11-14 18:06:42,716: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=1967799&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:06:42,717: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0265960693359
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:09:18 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"tags":["linux"],"queue":{"id":20596722,"name":"Hybrid - International SMB"},"technology":"linux","location":"NONE","status":"Open","subCategory":null,"submitter":{"id":295324093,"email":"isl_qe_usq@lists.mosso.com","name":"ISL-QE-USQ"},"subject":"zen desk ticket","categoryObj":null,"updateEventDate":"2013-11-14T18:05:01.000+0000","assignee":{"id":296396271,"email":"isl_dev@lists.mosso.com","name":"ISL-DEV"},"number":"1967799","documentLastUpdatedTimestamp":"2013-11-14T18:05:03.789Z","subCategoryObj":null,"hasWindowsServers":false,"updatedAt":"2013-11-14T18:05:01.000+0000","category":null,"sourceSystem":"ZENDESK","createdAt":"2013-11-14T17:57:28.000+0000","priority":"Urgent","hasLinuxServers":true,"account":{"id":"CLOUD000000","number":"000000","type":"CLOUD"},"link":{"href":"http://staging.search.api.rackspace.com/tickets/1967799","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:06:42,718: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_priority COMPLETED at 2013-11-14 18:06:42.718492
========================================================
2013-11-14 18:06:42,718: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_status STARTING at 2013-11-14 18:06:42.718889
========================================================
2013-11-14 18:06:42,719: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.zendesk.zendesk_api.ZendeskTicketClient object at 0x137b9550>, 'PUT', 'https://mosso.zendesk.com/api/v2/tickets/1967799.json') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'verify': False, 'auth': <requests.auth.HTTPBasicAuth object at 0x137b9510>, 'data': '{"ticket": {"status": "pending"}}'}
2013-11-14 18:06:42,720: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): mosso.zendesk.com
2013-11-14 18:06:43,435: DEBUG: requests.packages.urllib3.connectionpool: "PUT /api/v2/tickets/1967799.json HTTP/1.1" 200 None
2013-11-14 18:06:43,436: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : PUT
request url     : https://mosso.zendesk.com/api/v2/tickets/1967799.json
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'33', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'Content-Type': 'application/json', 'Authorization': u'Basic aXNsX3FlX3VzcUBsaXN0cy5tb3Nzby5jb206akBja3M='})
request body    : {"ticket": {"status": "pending"}}

2013-11-14 18:06:43,436: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.717017889023
response headers : CaseInsensitiveDict({'status': '200 OK', 'x-zendesk-api-version': 'v2', 'x-zendesk-request-id': 'd91fc8a4ba56461769b8', 'x-runtime': '0.506816', 'x-content-type-options': 'nosniff', 'content-encoding': 'gzip', 'transfer-encoding': 'chunked', 'x-request-id': '52ef30c012d2aaad94c7706ac1e58d41', 'server': 'nginx/1.4.2', 'date': 'Thu, 14 Nov 2013 18:06:42 GMT', 'connection': 'keep-alive', 'x-ua-compatible': 'IE=Edge,chrome=1', 'cache-control': 'max-age=0, private, must-revalidate', 'x-zendesk-user-id': '295324093', 'content-type': 'application/json; charset=UTF-8', 'x-rack-cache': 'invalidate, pass', 'x-zendesk-origin-server': 'app35.pod1.ord.zdsys.com'})
response body    : {"ticket":{"url":"https://mosso.zendesk.com/api/v2/tickets/1967799.json","id":1967799,"external_id":null,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"created_at":"2013-11-14T17:57:28Z","updated_at":"2013-11-14T18:06:42Z","type":null,"subject":"zen desk ticket","description":"ts-staging","priority":"urgent","status":"pending","recipient":null,"requester_id":295324093,"submitter_id":295324093,"assignee_id":296396271,"organization_id":20825923,"group_id":20596722,"collaborator_ids":[],"forum_topic_id":null,"problem_id":null,"has_incidents":false,"due_at":null,"tags":["linux"],"custom_fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"linux"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}],"satisfaction_rating":null,"sharing_agreement_ids":[],"fields":[{"id":105853,"value":""},{"id":102692,"value":""},{"id":436749,"value":""},{"id":108885,"value":"linux"},{"id":56372,"value":null},{"id":96193,"value":null},{"id":452117,"value":false},{"id":105830,"value":null},{"id":105820,"value":""},{"id":22267031,"value":null},{"id":20674741,"value":null}]},"audit":{"id":20013467653,"ticket_id":1967799,"created_at":"2013-11-14T18:06:42Z","author_id":295324093,"via":{"channel":"api","source":{"from":{},"to":{},"rel":null}},"metadata":{"system":{"client":"python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen","ip_address":"74.205.117.244","location":"San Antonio, TX, United States","latitude":29.4889,"longitude":-98.3987},"custom":{}},"events":[{"id":20013467673,"type":"Change","value":"pending","field_name":"status","previous_value":"open"},{"id":20013467683,"type":"Notification","via":{"channel":"rule","source":{"to":{},"from":{"id":253602,"title":"Notify requester of Comment or Status update"},"rel":"trigger"}},"subject":"[{{ticket.account}}] Re: {{ticket.title}}","body":"<comment_update><status-{{ticket.status}}/>\n<id>{{ticket.id}}</id>\n<title>{{ticket.title}}</title>\n<comments>{{ticket.public_comments_formatted}}</comments>\n<last-comment>{{ticket.latest_public_comment_formatted}}</last-comment>\n<url>{{ticket.url}}</url>\n<status>{{ticket.status}}</status>\n<priority>{{ticket.priority}}</priority>\n<ticket_type>{{ticket.ticket_type}}</ticket_type>\n<index>{{ticket.score}}</index>\n<group>{{ticket.group.name}}</group>\n<account>{{ticket.account}}</account>\n<assignee>{{ticket.assignee.name}}</assignee>\n<assignee_first_name>{{ticket.assignee.first_name}}</assignee_first_name>\n<assignee_last_name>{{ticket.assignee.last_name}}</assignee_last_name>\n<requester>{{ticket.requester.name}}</requester>\n<requester-id>{{ticket.requester.id}}</requester-id>\n<requester_first_name>{{ticket.requester.first_name}}</requester_first_name>\n<requester_last_name>{{ticket.requester.last_name}}</requester_last_name>\n<organization>{{ticket.organization.name}}</organization>\n<current_collaborators>{{ticket.cc_names}}</current_collaborators>\n<domain>{{ticket.ticket_field_56372}}</domain>\n<product>{{ticket.ticket_field_92226}}</product>\n<category>{{ticket.ticket_field_56445}}</category>\n<email_cc>{{ticket.ticket_field_96193}}</email_cc>\n<riid>{{ticket.ticket_field_20674741}}</riid> \n<created-at>{{ticket.created_at |date: \"%Y%m%d\"}}</created-at>\n</comment_update>","recipients":[295324093]}]}}
-------------------------------------------------------------------------------
2013-11-14 18:08:23,442: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1372e410>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'number': 1967799, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'verify': False, 'data': None}
2013-11-14 18:08:23,444: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-11-14 18:08:23,470: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=1967799&limit=100&offset=0 HTTP/1.1" 200 None
2013-11-14 18:08:23,470: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=1967799&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/2.0.1 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-11-14 18:08:23,471: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.027508020401
response headers : CaseInsensitiveDict({'date': 'Thu, 14 Nov 2013 18:10:58 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"tags":["linux"],"queue":{"id":20596722,"name":"Hybrid - International SMB"},"technology":"linux","location":"NONE","status":"Pending","subCategory":null,"submitter":{"id":295324093,"email":"isl_qe_usq@lists.mosso.com","name":"ISL-QE-USQ"},"subject":"zen desk ticket","categoryObj":null,"updateEventDate":"2013-11-14T18:06:42.000+0000","assignee":{"id":296396271,"email":"isl_dev@lists.mosso.com","name":"ISL-DEV"},"number":"1967799","documentLastUpdatedTimestamp":"2013-11-14T18:06:54.087Z","subCategoryObj":null,"hasWindowsServers":false,"updatedAt":"2013-11-14T18:06:42.000+0000","category":null,"sourceSystem":"ZENDESK","createdAt":"2013-11-14T17:57:28.000+0000","priority":"Urgent","hasLinuxServers":true,"account":{"id":"CLOUD000000","number":"000000","type":"CLOUD"},"link":{"href":"http://staging.search.api.rackspace.com/tickets/1967799","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=1967799&offset=0"}]}}
-------------------------------------------------------------------------------
2013-11-14 18:08:23,472: DEBUG: root: 
========================================================
test_tkt_update_zen_desk_status COMPLETED at 2013-11-14 18:08:23.472462
========================================================
2013-11-14 18:08:23,472: DEBUG: root: 
========================================================
TEARING DOWN TestZenDeskOngoingSync at 2013-11-14 18:08:23.472807
========================================================
