2013-07-24 14:52:09,882: DEBUG: root: 
========================================================
SETTING UP testrepo.tq_search.core_ongoing_sync.test_core_ongoing_sync.TestCoreOngoingSync at 2013-07-24 14:52:09.882010
========================================================
2013-07-24 14:52:09,884: ERROR: ccengine.domain.configuration.AuthConfig: No option 'api_key' in section: 'auth'
2013-07-24 14:52:09,885: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.auth.auth_client.AuthClient object at 0x1dc8210>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/login/melissa.biles') {'headers': {}, 'params': {}, 'data': '{"password": "qwerty"}', 'auth': None, 'verify': False}
2013-07-24 14:52:09,886: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-24 14:52:10,194: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/login/melissa.biles HTTP/1.1" 200 None
2013-07-24 14:52:10,260: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/login/melissa.biles
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'22', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : {"password": "qwerty"}

2013-07-24 14:52:10,260: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.374848842621
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:41:13 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : {"authtoken": "2c1e9892d9c8b7d51b3c5acbba945405"}
-------------------------------------------------------------------------------
2013-07-24 14:52:10,263: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x1dc8710>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': '2c1e9892d9c8b7d51b3c5acbba945405', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]', 'auth': None, 'verify': False}
2013-07-24 14:52:10,264: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-24 14:52:21,120: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-24 14:52:21,189: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'493', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': '2c1e9892d9c8b7d51b3c5acbba945405', 'Content-Type': 'application/json'})
request body    : [{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]

2013-07-24 14:52:21,189: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 10.9254541397
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:41:13 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": 11, "success": true, "method": "addTicket", "limit": 1, "result": {"queue.name": "Engineering - SAT2", "created": "2013-07-24 09:41:14", "account.number": "11", "assignee.name": null, "number": "130724-00115", "status.name": "New", "modified": "2013-07-24 09:41:16", "priority": 1, "last_public_response_date": null, "category.name": "RMA", "subject": "Generic core ticket"}, "offset": 0, "class": "Account.Account"}]
-------------------------------------------------------------------------------
2013-07-24 14:52:21,190: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x1dc8710>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': '2c1e9892d9c8b7d51b3c5acbba945405', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket two", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]', 'auth': None, 'verify': False}
2013-07-24 14:52:21,192: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-24 14:52:30,850: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-24 14:52:30,905: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'497', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': '2c1e9892d9c8b7d51b3c5acbba945405', 'Content-Type': 'application/json'})
request body    : [{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket two", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]

2013-07-24 14:52:30,906: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 9.71473789215
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:41:24 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": 11, "success": true, "method": "addTicket", "limit": 1, "result": {"queue.name": "Engineering - SAT2", "created": "2013-07-24 09:41:25", "account.number": "11", "assignee.name": null, "number": "130724-00116", "status.name": "New", "modified": "2013-07-24 09:41:27", "priority": 1, "last_public_response_date": null, "category.name": "RMA", "subject": "Generic core ticket two"}, "offset": 0, "class": "Account.Account"}]
-------------------------------------------------------------------------------
2013-07-24 14:54:10,911: DEBUG: root: 
========================================================
test_ticket_created_in_core_reflects_in_one_minute_in_tqsearch STARTING at 2013-07-24 14:54:10.911791
========================================================
2013-07-24 14:54:10,912: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1dc7590>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130724-00115', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-24 14:54:10,913: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-24 14:54:10,961: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130724-00115&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-24 14:54:10,962: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130724-00115&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-24 14:54:10,962: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0499620437622
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:44:22 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":0,"limit":100,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00115&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00115&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-24 14:54:10,983: DEBUG: root: 
========================================================
test_ticket_created_in_core_reflects_in_one_minute_in_tqsearch COMPLETED at 2013-07-24 14:54:10.983102
========================================================
2013-07-24 14:54:10,983: DEBUG: root: 
========================================================
test_ticket_updated_in_core_reflects_in_one_minute_in_tqsearch STARTING at 2013-07-24 14:54:10.983416
========================================================
2013-07-24 14:54:10,983: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1dc7590>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130724-00115', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-24 14:54:10,985: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-24 14:54:11,013: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130724-00115&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-24 14:54:11,013: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130724-00115&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-24 14:54:11,014: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0298388004303
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:44:22 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":0,"limit":100,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00115&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00115&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-24 14:54:11,014: DEBUG: root: 
========================================================
test_ticket_updated_in_core_reflects_in_one_minute_in_tqsearch COMPLETED at 2013-07-24 14:54:11.014758
========================================================
2013-07-24 14:54:11,015: DEBUG: root: 
========================================================
test_updating_priority_in_core_marks_ticket_as_updated_in_search STARTING at 2013-07-24 14:54:11.015087
========================================================
2013-07-24 14:54:11,015: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1dc7590>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130724-00116', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-24 14:54:11,016: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-24 14:54:11,037: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130724-00116&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-24 14:54:11,038: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130724-00116&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-24 14:54:11,038: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0226101875305
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:44:22 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":0,"limit":100,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00116&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00116&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-24 14:54:11,039: DEBUG: root: 
========================================================
test_updating_priority_in_core_marks_ticket_as_updated_in_search COMPLETED at 2013-07-24 14:54:11.039112
========================================================
2013-07-24 14:54:11,039: DEBUG: root: 
========================================================
test_updating_queue_in_core_marks_ticket_as_updated_in_tq_search STARTING at 2013-07-24 14:54:11.039416
========================================================
2013-07-24 14:54:11,039: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1dc7590>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130724-00116', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-24 14:54:11,040: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-24 14:54:11,060: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130724-00116&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-24 14:54:11,061: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130724-00116&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-24 14:54:11,061: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0213351249695
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:44:22 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":0,"limit":100,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00116&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00116&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-24 14:54:11,062: DEBUG: root: 
========================================================
test_updating_queue_in_core_marks_ticket_as_updated_in_tq_search COMPLETED at 2013-07-24 14:54:11.062038
========================================================
2013-07-24 14:54:11,062: DEBUG: root: 
========================================================
test_updating_status_in_core_marks_ticket_as_updated_in_search STARTING at 2013-07-24 14:54:11.062352
========================================================
2013-07-24 14:54:11,062: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1dc7590>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130724-00116', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-24 14:54:11,063: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-24 14:54:11,085: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130724-00116&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-24 14:54:11,085: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130724-00116&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-24 14:54:11,086: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0229790210724
response headers : CaseInsensitiveDict({'date': 'Wed, 24 Jul 2013 14:44:22 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":0,"limit":100,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00116&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130724-00116&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-24 14:54:11,086: DEBUG: root: 
========================================================
test_updating_status_in_core_marks_ticket_as_updated_in_search COMPLETED at 2013-07-24 14:54:11.086672
========================================================
2013-07-24 14:54:11,086: DEBUG: root: 
========================================================
TEARING DOWN TestCoreOngoingSync at 2013-07-24 14:54:11.086946
========================================================
