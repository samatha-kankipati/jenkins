2013-07-31 04:44:59,599: DEBUG: root: 
========================================================
SETTING UP testrepo.tq_search.core_ongoing_sync.test_core_ongoing_sync.TestCoreOngoingSync at 2013-07-31 04:44:59.599336
========================================================
2013-07-31 04:44:59,602: ERROR: ccengine.domain.configuration.AuthConfig: No option 'api_key' in section: 'auth'
2013-07-31 04:44:59,602: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.auth.auth_client.AuthClient object at 0x5e59750>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi//login/melissa.biles') {'headers': {'Content-Type': 'application/json', 'Accept': 'application/json'}, 'params': {}, 'data': '{"password": "qwerty"}', 'auth': None, 'verify': False}
2013-07-31 04:44:59,603: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:44:59,812: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi//login/melissa.biles HTTP/1.1" 200 None
2013-07-31 04:44:59,873: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi//login/melissa.biles
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'22', 'Content-Type': 'application/json', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : {"password": "qwerty"}

2013-07-31 04:44:59,874: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.271042108536
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:33:22 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : {"authtoken": "b49150aab80828085d6608cc652699e2"}
-------------------------------------------------------------------------------
2013-07-31 04:44:59,877: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]', 'auth': None, 'verify': False}
2013-07-31 04:44:59,878: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:45:11,184: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:45:11,253: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'493', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]

2013-07-31 04:45:11,254: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 11.376075983
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:33:22 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": 11, "success": true, "method": "addTicket", "limit": 1, "result": {"queue.name": "Engineering - SAT2", "created": "2013-07-30 23:33:22", "account.number": "11", "assignee.name": null, "number": "130730-01716", "status.name": "New", "modified": "2013-07-30 23:33:24", "priority": 1, "last_public_response_date": null, "category.name": "RMA", "subject": "Generic core ticket"}, "offset": 0, "class": "Account.Account"}]
-------------------------------------------------------------------------------
2013-07-31 04:45:11,254: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket two", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]', 'auth': None, 'verify': False}
2013-07-31 04:45:11,256: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:45:20,740: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:45:20,815: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'497', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"load_arg": 11, "args": [11, 11206, 1, 1, "Generic core ticket two", "Ticket Text Message"], "class": "Account.Account", "result_map": {"assignee.name": "assignee.name", "number": "number", "status.name": "status.name", "last_public_response_date": "last_public_response_date", "subject": "subject", "queue.name": "queue.name", "created": "created", "account.number": "account.number", "modified": "modified", "category.name": "category.name", "priority": "priority.id"}, "method": "addTicket"}]

2013-07-31 04:45:20,816: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 9.56059288979
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:33:33 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": 11, "success": true, "method": "addTicket", "limit": 1, "result": {"queue.name": "Engineering - SAT2", "created": "2013-07-30 23:33:34", "account.number": "11", "assignee.name": null, "number": "130730-01717", "status.name": "New", "modified": "2013-07-30 23:33:36", "priority": 1, "last_public_response_date": null, "category.name": "RMA", "subject": "Generic core ticket two"}, "offset": 0, "class": "Account.Account"}]
-------------------------------------------------------------------------------
2013-07-31 04:47:00,820: DEBUG: root: 
========================================================
test_ticket_created_in_core_reflects_in_one_minute_in_tqsearch STARTING at 2013-07-31 04:47:00.820774
========================================================
2013-07-31 04:47:00,821: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01716', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:47:00,822: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:47:00,853: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01716&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:47:00,854: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01716&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:47:00,854: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0328130722046
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:36:36 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"11","name":"Engineering - SAT2"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:33:22.364+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01716","documentLastUpdatedTimestamp":"2013-07-31T04:33:40.207Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:33:24.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:22.000+0000","priority":"Normal","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01716","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01716&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01716&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:47:00,855: DEBUG: root: 
========================================================
test_ticket_created_in_core_reflects_in_one_minute_in_tqsearch COMPLETED at 2013-07-31 04:47:00.855515
========================================================
2013-07-31 04:47:00,855: DEBUG: root: 
========================================================
test_ticket_updated_in_core_reflects_in_one_minute_in_tqsearch STARTING at 2013-07-31 04:47:00.855928
========================================================
2013-07-31 04:47:00,856: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01716', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:47:00,857: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:47:00,879: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01716&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:47:00,880: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01716&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:47:00,880: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0236320495605
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:36:36 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"11","name":"Engineering - SAT2"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:33:22.364+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01716","documentLastUpdatedTimestamp":"2013-07-31T04:33:40.207Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:33:24.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:22.000+0000","priority":"Normal","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01716","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01716&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01716&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:47:00,957: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": "130730-01716", "args": ["In Progress"], "class": "Ticket.Ticket", "method": "setStatusByName"}]', 'auth': None, 'verify': False}
2013-07-31 04:47:00,959: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:47:01,322: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:47:01,388: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'110', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"load_arg": "130730-01716", "args": ["In Progress"], "class": "Ticket.Ticket", "method": "setStatusByName"}]

2013-07-31 04:47:01,389: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.430311918259
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:35:23 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01716", "success": true, "method": "setStatusByName", "limit": 1, "result": {"description": "In Progress", "class_name": "Ticket.Status", "name": "In Progress", "methods": "https://ws.staging.core.rackspace.com/ctkapi/methods/Ticket.Status", "values": "https://ws.staging.core.rackspace.com/ctkapi/values/Ticket.Status", "attributes": "https://ws.staging.core.rackspace.com/ctkapi/attributes/Ticket.Status", "id": 55, "class_type": "Value_Table"}, "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:47:01,389: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"set_attribute": {"queue": {"load_arg": "13", "class": "Ticket.Queue"}}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]', 'auth': None, 'verify': False}
2013-07-31 04:47:01,391: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:47:02,542: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:47:02,613: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'129', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"set_attribute": {"queue": {"load_arg": "13", "class": "Ticket.Queue"}}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]

2013-07-31 04:47:02,613: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 1.22260117531
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:35:23 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01716", "limit": 250, "result": [{"queue": "success", "id": "130730-01716"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:47:02,614: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"set_attribute": {"priority": {"load_arg": "3", "class": "Ticket.Priority"}}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]', 'auth': None, 'verify': False}
2013-07-31 04:47:02,615: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:47:02,952: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:47:03,016: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'134', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"set_attribute": {"priority": {"load_arg": "3", "class": "Ticket.Priority"}}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]

2013-07-31 04:47:03,017: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.402240991592
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:35:25 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01716", "limit": 250, "result": [{"priority": "success", "id": "130730-01716"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:47:03,017: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"set_attribute": {"subject": "New subject"}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]', 'auth': None, 'verify': False}
2013-07-31 04:47:03,019: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:47:03,325: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:47:03,411: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'101', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"set_attribute": {"subject": "New subject"}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]

2013-07-31 04:47:03,411: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.392716884613
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:35:25 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01716", "limit": 250, "result": [{"id": "130730-01716", "subject": "success"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:47:03,412: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"set_attribute": {"assignee": {"load_arg": {"values": ["employee_userid", "=", "matt.printz"], "class": "Contact.ContactWhere"}, "class": "Contact.Contact"}}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]', 'auth': None, 'verify': False}
2013-07-31 04:47:03,413: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:47:04,287: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:47:04,368: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'215', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"set_attribute": {"assignee": {"load_arg": {"values": ["employee_userid", "=", "matt.printz"], "class": "Contact.ContactWhere"}, "class": "Contact.Contact"}}, "load_arg": "130730-01716", "class": "Ticket.Ticket"}]

2013-07-31 04:47:04,369: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.956304073334
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:35:25 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01716", "limit": 250, "result": [{"assignee": "success", "id": "130730-01716"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:47:04,369: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": {"values": ["number", "=", "130730-01716"], "class": "Ticket.TicketWhere"}, "class": "Ticket.Ticket", "attributes": ["number", "last_public_response_date", "status.name", "created", "modified", "priority.name", "category.name", "queue.name", "queue.id", "subject", "has_linux_servers", "has_windows_servers", "subcategory.name", "difficulty", "severity.name", "account.number", "account.service_level_name", "account.support_team.support_territory.code", "assignee.name", "assignee.employee_userid", "status.types.name"]}]', 'auth': None, 'verify': False}
2013-07-31 04:47:04,371: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:47:04,740: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:47:04,813: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'536', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"load_arg": {"values": ["number", "=", "130730-01716"], "class": "Ticket.TicketWhere"}, "class": "Ticket.Ticket", "attributes": ["number", "last_public_response_date", "status.name", "created", "modified", "priority.name", "category.name", "queue.name", "queue.id", "subject", "has_linux_servers", "has_windows_servers", "subcategory.name", "difficulty", "severity.name", "account.number", "account.service_level_name", "account.support_team.support_territory.code", "assignee.name", "assignee.employee_userid", "status.types.name"]}]

2013-07-31 04:47:04,813: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.443219184875
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:35:26 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": {"values": ["number", "=", "130730-01716"], "class": "Ticket.TicketWhere"}, "limit": 250, "result": [{"severity.name": "Standard", "account.support_team.support_territory.code": "US", "queue.name": "Contract Processing", "has_linux_servers": false, "has_windows_servers": false, "created": "2013-07-30 23:33:22", "queue.id": 13, "assignee.name": "Matthew Printz", "status.types.name": ["Awake", "New", "Alive"], "account.number": "11", "modified": "2013-07-30 23:35:25", "status.name": "New", "number": "130730-01716", "difficulty": 1, "assignee.employee_userid": "matt.printz", "last_public_response_date": null, "category.name": "RMA", "account.service_level_name": "Racker IT", "subcategory.name": "Waiting On Parts", "priority.name": "High", "subject": "New subject"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:48:04,816: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01716', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:48:04,818: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:48:04,842: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01716&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:48:04,843: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01716&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:48:04,843: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0259399414062
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:37:40 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"13","name":"Contract Processing"},"subCategory":"Waiting On Parts","status":"New","subject":"New subject","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:35:25.870+0000","accountServiceLevel":"Racker IT","assignee":{"name":"Matthew Printz","sso":"matt.printz"},"severityName":"Standard","difficulty":"1","number":"130730-01716","documentLastUpdatedTimestamp":"2013-07-31T04:35:29.532Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:35:25.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:22.000+0000","priority":"High","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01716","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01716&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01716&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:48:04,844: DEBUG: root: 
========================================================
test_ticket_updated_in_core_reflects_in_one_minute_in_tqsearch COMPLETED at 2013-07-31 04:48:04.844631
========================================================
2013-07-31 04:48:04,845: DEBUG: root: 
========================================================
test_updating_priority_in_core_marks_ticket_as_updated_in_search STARTING at 2013-07-31 04:48:04.844978
========================================================
2013-07-31 04:48:04,845: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01717', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:48:04,846: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:48:04,867: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01717&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:48:04,868: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01717&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:48:04,868: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0230510234833
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:37:40 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"11","name":"Engineering - SAT2"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket two","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:33:33.716+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01717","documentLastUpdatedTimestamp":"2013-07-31T04:33:45.799Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:33:36.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:34.000+0000","priority":"Normal","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01717","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:48:04,870: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"set_attribute": {"priority": {"load_arg": 2, "class": "Ticket.Priority"}}, "load_arg": "130730-01717", "class": "Ticket.Ticket"}]', 'auth': None, 'verify': False}
2013-07-31 04:48:04,871: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:48:05,190: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:48:05,268: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'132', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"set_attribute": {"priority": {"load_arg": 2, "class": "Ticket.Priority"}}, "load_arg": "130730-01717", "class": "Ticket.Ticket"}]

2013-07-31 04:48:05,268: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.39798784256
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:36:27 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01717", "limit": 0, "result": [{"priority": "success", "id": "130730-01717"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:49:05,268: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01717', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:49:05,270: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:49:05,303: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01717&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:49:05,304: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01717&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:49:05,305: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0356879234314
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:38:40 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"11","name":"Engineering - SAT2"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket two","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:36:27.328+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01717","documentLastUpdatedTimestamp":"2013-07-31T04:36:33.482Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:36:27.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:34.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01717","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:49:05,306: DEBUG: root: 
========================================================
test_updating_priority_in_core_marks_ticket_as_updated_in_search COMPLETED at 2013-07-31 04:49:05.306595
========================================================
2013-07-31 04:49:05,306: DEBUG: root: 
========================================================
test_updating_queue_in_core_marks_ticket_as_updated_in_tq_search STARTING at 2013-07-31 04:49:05.306942
========================================================
2013-07-31 04:49:05,307: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01717', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:49:05,308: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:49:05,328: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01717&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:49:05,329: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01717&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:49:05,329: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0216629505157
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:38:40 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"11","name":"Engineering - SAT2"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket two","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:36:27.328+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01717","documentLastUpdatedTimestamp":"2013-07-31T04:36:33.482Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:36:27.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:34.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01717","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:49:05,330: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"set_attribute": {"queue": {"load_arg": 2, "class": "Ticket.Queue"}}, "load_arg": "130730-01717", "class": "Ticket.Ticket"}]', 'auth': None, 'verify': False}
2013-07-31 04:49:05,331: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:49:16,537: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:49:16,605: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'126', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"set_attribute": {"queue": {"load_arg": 2, "class": "Ticket.Queue"}}, "load_arg": "130730-01717", "class": "Ticket.Ticket"}]

2013-07-31 04:49:16,606: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 11.2748970985
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:37:27 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01717", "limit": 250, "result": [{"queue": "success", "id": "130730-01717"}], "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:50:16,609: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01717', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:50:16,610: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:50:16,641: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01717&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:50:16,642: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01717&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:50:16,643: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.033175945282
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:39:52 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"2","name":"DCOPS (SAT1)"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket two","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:37:27.786+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01717","documentLastUpdatedTimestamp":"2013-07-31T04:37:32.237Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:37:28.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:34.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01717","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:50:16,644: DEBUG: root: 
========================================================
test_updating_queue_in_core_marks_ticket_as_updated_in_tq_search COMPLETED at 2013-07-31 04:50:16.644644
========================================================
2013-07-31 04:50:16,645: DEBUG: root: 
========================================================
test_updating_status_in_core_marks_ticket_as_updated_in_search STARTING at 2013-07-31 04:50:16.644994
========================================================
2013-07-31 04:50:16,645: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01717', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:50:16,646: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:50:16,674: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01717&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:50:16,675: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01717&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:50:16,675: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0300459861755
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:39:52 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"2","name":"DCOPS (SAT1)"},"subCategory":"Waiting On Parts","status":"New","subject":"Generic core ticket two","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:37:27.786+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01717","documentLastUpdatedTimestamp":"2013-07-31T04:37:32.237Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:37:28.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:34.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","New","Alive"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01717","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:50:16,677: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.core.ticket_api.TicketAPIClient object at 0x5e59e10>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/query') {'headers': {'Content-Type': 'application/json', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Accept': 'application/json'}, 'params': {}, 'data': '[{"load_arg": "130730-01717", "args": ["In Progress"], "class": "Ticket.Ticket", "method": "setStatusByName"}]', 'auth': None, 'verify': False}
2013-07-31 04:50:16,678: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-31 04:50:17,007: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/query HTTP/1.1" 200 None
2013-07-31 04:50:17,081: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/query
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'110', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': 'application/json', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen', 'X-Auth': 'b49150aab80828085d6608cc652699e2', 'Content-Type': 'application/json'})
request body    : [{"load_arg": "130730-01717", "args": ["In Progress"], "class": "Ticket.Ticket", "method": "setStatusByName"}]

2013-07-31 04:50:17,081: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.403396129608
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:38:39 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : [{"count": 1, "load_arg": "130730-01717", "success": true, "method": "setStatusByName", "limit": 1, "result": {"description": "In Progress", "class_name": "Ticket.Status", "name": "In Progress", "methods": "https://ws.staging.core.rackspace.com/ctkapi/methods/Ticket.Status", "values": "https://ws.staging.core.rackspace.com/ctkapi/values/Ticket.Status", "attributes": "https://ws.staging.core.rackspace.com/ctkapi/attributes/Ticket.Status", "id": 26, "class_type": "Value_Table"}, "offset": 0, "class": "Ticket.Ticket"}]
-------------------------------------------------------------------------------
2013-07-31 04:51:17,080: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x5e56a10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': u'130730-01717', 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-31 04:51:17,082: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-31 04:51:17,101: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?number=130730-01717&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-31 04:51:17,102: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : number=130730-01717&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-31 04:51:17,102: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.021075963974
response headers : CaseInsensitiveDict({'date': 'Wed, 31 Jul 2013 04:40:52 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":1,"limit":100,"offset":0,"tickets":[{"queue":{"id":"2","name":"DCOPS (SAT1)"},"subCategory":"Waiting On Parts","status":"In Progress","subject":"Generic core ticket two","lastPublicCommentDate":null,"updateEventDate":"2013-07-31T04:38:39.107+0000","accountServiceLevel":"Racker IT","assignee":null,"severityName":"Standard","difficulty":"1","number":"130730-01717","documentLastUpdatedTimestamp":"2013-07-31T04:38:45.397Z","accountTeamTerritoryCode":"US","hasWindowsServers":false,"updatedAt":"2013-07-31T04:38:39.000+0000","category":"RMA","sourceSystem":"CORE","createdAt":"2013-07-31T04:33:34.000+0000","priority":"Low","hasLinuxServers":false,"account":{"id":"MANAGED_HOSTING11","rcn":"RCN-000-059-575","status":"Active","name":"Core Testing Account11","highProfile":false,"number":11,"team":"Team Racker IT","documentLastUpdatedTimestamp":"2013-07-30T15:12:21.741Z","type":"MANAGED_HOSTING"},"statusTypes":["Awake","Default Open","Alive","Timeout-No Feedback"],"link":{"href":"http://staging.search.api.rackspace.com/tickets/130730-01717","rel":"via"}}],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&number=130730-01717&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-31 04:51:17,104: DEBUG: root: 
========================================================
test_updating_status_in_core_marks_ticket_as_updated_in_search COMPLETED at 2013-07-31 04:51:17.104152
========================================================
2013-07-31 04:51:17,104: DEBUG: root: 
========================================================
TEARING DOWN TestCoreOngoingSync at 2013-07-31 04:51:17.104452
========================================================
