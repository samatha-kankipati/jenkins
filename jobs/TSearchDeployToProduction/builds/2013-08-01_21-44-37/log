Started by user [8mha:AAAAlh+LCAAAAAAAAABb85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzOEgYu/dLi1CL9vNKcHACFIKlWvwAAAA==[0manonymous
Building in workspace /var/lib/jenkins/jobs/TSearchDeployToProduction/workspace
Checkout:workspace / /var/lib/jenkins/jobs/TSearchDeployToProduction/workspace - hudson.remoting.LocalChannel@6788af79
Using strategy: Default
Last Built Revision: Revision 5392e25682caa3588bb06d30a6b129d3217855e7 (origin/master)
Fetching changes from 1 remote Git repository
Fetching upstream changes from origin
Commencing build of Revision 327e639d480fea6adfb9289cad3fb8c1d319de63 (origin/master)
Checking out Revision 327e639d480fea6adfb9289cad3fb8c1d319de63 (origin/master)
[workspace] $ /bin/sh -xe /tmp/hudson4278792646486829455.sh
+ sh /var/lib/jenkins/jobs/TSearchDeployToProduction/workspace/service/src/main/scripts/deploy-application.sh 0.1.0_b141 production
environment in warhammer is production
environment is production
======================= Starting Deployment =======================
Version:	'0.1.0_b141'
Server:		'node3.prod.search.api.rackspace.com'
===================================================================


Using temporary directory '/tmp/deploy.15949'.


Fetching files...
--2013-08-01 21:44:45--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b141/search-0.1.0_b141.war
Resolving d-build1.iad2.corp.rackspace.com... 10.4.39.20
Connecting to d-build1.iad2.corp.rackspace.com|10.4.39.20|:8100... connected.
HTTP request sent, awaiting response... 200 OK
Length: 34467770 (33M) [application/octet-stream]
Saving to: `/tmp/deploy.15949/search-0.1.0_b141.war'

     0K ........ ........ ........ ........ ........ ........  9% 3.66M 8s
  3072K ........ ........ ........ ........ ........ ........ 18% 2.27M 10s
  6144K ........ ........ ........ ........ ........ ........ 27% 2.31M 9s
  9216K ........ ........ ........ ........ ........ ........ 36% 2.31M 8s
 12288K ........ ........ ........ ........ ........ ........ 45% 2.40M 7s
 15360K ........ ........ ........ ........ ........ ........ 54% 2.39M 6s
 18432K ........ ........ ........ ........ ........ ........ 63% 2.55M 5s
 21504K ........ ........ ........ ........ ........ ........ 73% 3.37M 3s
 24576K ........ ........ ........ ........ ........ ........ 82% 2.64M 2s
 27648K ........ ........ ........ ........ ........ ........ 91% 2.40M 1s
 30720K ........ ........ ........ ........ ........ .....   100% 2.07M=13s

2013-08-01 21:44:58 (2.51 MB/s) - `/tmp/deploy.15949/search-0.1.0_b141.war' saved [34467770/34467770]

--2013-08-01 21:44:58--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b141/search-0.1.0_b141.war.md5
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 32 [text/plain]
Saving to: `/tmp/deploy.15949/search-0.1.0_b141.war.md5'

     0K                                                      100% 3.39M=0s

2013-08-01 21:44:58 (3.39 MB/s) - `/tmp/deploy.15949/search-0.1.0_b141.war.md5' saved [32/32]

--2013-08-01 21:44:58--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b141/search-0.1.0_b141-config.zip
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 38667 (38K) [application/zip]
Saving to: `/tmp/deploy.15949/search-0.1.0_b141-config.zip'

     0K                                                      100%  139M=0s

2013-08-01 21:44:58 (139 MB/s) - `/tmp/deploy.15949/search-0.1.0_b141-config.zip' saved [38667/38667]

--2013-08-01 21:44:58--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b141/search-0.1.0_b141-config.zip.md5
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 32 [text/plain]
Saving to: `/tmp/deploy.15949/search-0.1.0_b141-config.zip.md5'

     0K                                                      100% 2.77M=0s

2013-08-01 21:44:59 (2.77 MB/s) - `/tmp/deploy.15949/search-0.1.0_b141-config.zip.md5' saved [32/32]

FINISHED --2013-08-01 21:44:59--
Downloaded: 4 files, 33M in 13s (2.52 MB/s)
...done.


Verifying MD5s...
OK 8bb75a7d5955aeac8a1d4fe53ab35dce  /tmp/deploy.15949/search-0.1.0_b141.war
OK af6f7f8c4b269dd0ad9ae707f9bd10c7  /tmp/deploy.15949/search-0.1.0_b141-config.zip
done.


Warning: Permanently added 'node3.prod.search.api.rackspace.com' (RSA) to the list of known hosts.
Copying files to server 'node3.prod.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK 8bb75a7d5955aeac8a1d4fe53ab35dce  node3.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b141.war
OK af6f7f8c4b269dd0ad9ae707f9bd10c7  node3.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b141-config.zip
...done.

Copying files to server 'node2.prod.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK 8bb75a7d5955aeac8a1d4fe53ab35dce  node2.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b141.war
OK af6f7f8c4b269dd0ad9ae707f9bd10c7  node2.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b141-config.zip
...done.

Copying files to server 'node1.prod.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK 8bb75a7d5955aeac8a1d4fe53ab35dce  node1.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b141.war
OK af6f7f8c4b269dd0ad9ae707f9bd10c7  node1.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b141-config.zip
...done.



Thu Aug  1 21:45:17 UTC 2013 : Deploying to server 'node3.prod.search.api.rackspace.com'...Waiting for the domain to stop ...
Command stop-domain executed successfully.
Thu Aug  1 21:45:25 UTC 2013 : deployment done. starting server...
Waiting for search to start .....
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Thu Aug  1 21:45:32 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.
Thu Aug  1 21:46:32 UTC 2013 : Deploying to server 'node2.prod.search.api.rackspace.com'...Waiting for the domain to stop ........
Command stop-domain executed successfully.
Thu Aug  1 21:46:50 UTC 2013 : deployment done. starting server...
Waiting for search to start ...................................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Thu Aug  1 21:47:44 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.
Thu Aug  1 21:48:44 UTC 2013 : Deploying to server 'node1.prod.search.api.rackspace.com'...Waiting for the domain to stop ...
Command stop-domain executed successfully.
Thu Aug  1 21:48:51 UTC 2013 : deployment done. starting server...
Waiting for search to start ...........................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Thu Aug  1 21:49:36 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.


Thu Aug  1 21:50:36 UTC 2013 : Cleaning up...done.


======================= Deployment Complete =======================

Finished: SUCCESS
