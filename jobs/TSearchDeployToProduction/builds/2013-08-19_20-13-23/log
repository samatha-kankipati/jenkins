Started by user [8mha:AAAAlh+LCAAAAAAAAABb85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzOEgYu/dLi1CL9vNKcHACFIKlWvwAAAA==[0manonymous
Building in workspace /var/lib/jenkins/jobs/TSearchDeployToProduction/workspace
Checkout:workspace / /var/lib/jenkins/jobs/TSearchDeployToProduction/workspace - hudson.remoting.LocalChannel@6788af79
Using strategy: Default
Last Built Revision: Revision f10dbd2c3ebb8e8b12b3e96d62491a15dab3282c (origin/master)
Fetching changes from 1 remote Git repository
Fetching upstream changes from origin
Commencing build of Revision b7f53f610946e5e5344575bab523097b7adf97ca (origin/master)
Checking out Revision b7f53f610946e5e5344575bab523097b7adf97ca (origin/master)
[workspace] $ /bin/sh -xe /tmp/hudson2740752258857280722.sh
+ sh /var/lib/jenkins/jobs/TSearchDeployToProduction/workspace/service/src/main/scripts/deploy-application.sh 0.1.0_b149 production
environment in warhammer is production
environment is production
======================= Starting Deployment =======================
Version:	'0.1.0_b149'
Server:		'node3.prod.search.api.rackspace.com'
===================================================================


Using temporary directory '/tmp/deploy.23501'.


Fetching files...
--2013-08-19 20:13:31--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b149/search-0.1.0_b149.war
Resolving d-build1.iad2.corp.rackspace.com... 10.4.39.20
Connecting to d-build1.iad2.corp.rackspace.com|10.4.39.20|:8100... connected.
HTTP request sent, awaiting response... 200 OK
Length: 38749292 (37M) [application/octet-stream]
Saving to: `/tmp/deploy.23501/search-0.1.0_b149.war'

     0K ........ ........ ........ ........ ........ ........  8%  624K 56s
  3072K ........ ........ ........ ........ ........ ........ 16% 2.05M 33s
  6144K ........ ........ ........ ........ ........ ........ 24% 2.51M 24s
  9216K ........ ........ ........ ........ ........ ........ 32% 1.19M 21s
 12288K ........ ........ ........ ........ ........ ........ 40% 1.31M 18s
 15360K ........ ........ ........ ........ ........ ........ 48% 1.01M 16s
 18432K ........ ........ ........ ........ ........ ........ 56% 1.11M 14s
 21504K ........ ........ ........ ........ ........ ........ 64% 2.34M 10s
 24576K ........ ........ ........ ........ ........ ........ 73% 2.38M 8s
 27648K ........ ........ ........ ........ ........ ........ 81% 1.50M 5s
 30720K ........ ........ ........ ........ ........ ........ 89% 1.57M 3s
 33792K ........ ........ ........ ........ ........ ........ 97%  768K 1s
 36864K ........ .......                                     100%  832K=30s

2013-08-19 20:14:01 (1.24 MB/s) - `/tmp/deploy.23501/search-0.1.0_b149.war' saved [38749292/38749292]

--2013-08-19 20:14:01--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b149/search-0.1.0_b149.war.md5
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 32 [text/plain]
Saving to: `/tmp/deploy.23501/search-0.1.0_b149.war.md5'

     0K                                                      100% 2.77M=0s

2013-08-19 20:14:01 (2.77 MB/s) - `/tmp/deploy.23501/search-0.1.0_b149.war.md5' saved [32/32]

--2013-08-19 20:14:01--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b149/search-0.1.0_b149-config.zip
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 38921 (38K) [application/zip]
Saving to: `/tmp/deploy.23501/search-0.1.0_b149-config.zip'

     0K                                                      100% 81.4M=0s

2013-08-19 20:14:01 (81.4 MB/s) - `/tmp/deploy.23501/search-0.1.0_b149-config.zip' saved [38921/38921]

--2013-08-19 20:14:01--  http://d-build1.iad2.corp.rackspace.com:8100/nexus/content/repositories/releases/com/rackspace/api/search/0.1.0_b149/search-0.1.0_b149-config.zip.md5
Reusing existing connection to d-build1.iad2.corp.rackspace.com:8100.
HTTP request sent, awaiting response... 200 OK
Length: 32 [text/plain]
Saving to: `/tmp/deploy.23501/search-0.1.0_b149-config.zip.md5'

     0K                                                      100% 2.54M=0s

2013-08-19 20:14:01 (2.54 MB/s) - `/tmp/deploy.23501/search-0.1.0_b149-config.zip.md5' saved [32/32]

FINISHED --2013-08-19 20:14:01--
Downloaded: 4 files, 37M in 30s (1.25 MB/s)
...done.


Verifying MD5s...
OK bb29171cf33119e68ba04f9f53c66c12  /tmp/deploy.23501/search-0.1.0_b149.war
OK 8dea2f1ba619bdd70fcb0b46a7ca5c23  /tmp/deploy.23501/search-0.1.0_b149-config.zip
done.


Copying files to server 'node3.prod.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK bb29171cf33119e68ba04f9f53c66c12  node3.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b149.war
OK 8dea2f1ba619bdd70fcb0b46a7ca5c23  node3.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b149-config.zip
...done.

Copying files to server 'node2.prod.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK bb29171cf33119e68ba04f9f53c66c12  node2.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b149.war
OK 8dea2f1ba619bdd70fcb0b46a7ca5c23  node2.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b149-config.zip
...done.

Copying files to server 'node1.prod.search.api.rackspace.com'...
...done.

Verifying MD5s...
OK bb29171cf33119e68ba04f9f53c66c12  node1.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b149.war
OK 8dea2f1ba619bdd70fcb0b46a7ca5c23  node1.prod.search.api.rackspace.com:/home/search/artifacts/search-0.1.0_b149-config.zip
...done.



Mon Aug 19 20:14:26 UTC 2013 : Deploying to server 'node3.prod.search.api.rackspace.com'...Waiting for the domain to stop ...........
Command stop-domain executed successfully.
Mon Aug 19 20:14:45 UTC 2013 : deployment done. starting server...
Waiting for search to start ................................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Mon Aug 19 20:15:35 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.
Mon Aug 19 20:16:35 UTC 2013 : Deploying to server 'node2.prod.search.api.rackspace.com'...Waiting for the domain to stop ....
Command stop-domain executed successfully.
Mon Aug 19 20:16:43 UTC 2013 : deployment done. starting server...
Waiting for search to start ..........................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Mon Aug 19 20:17:27 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.
Mon Aug 19 20:18:27 UTC 2013 : Deploying to server 'node1.prod.search.api.rackspace.com'...Waiting for the domain to stop .....
Command stop-domain executed successfully.
Mon Aug 19 20:18:37 UTC 2013 : deployment done. starting server...
Waiting for search to start ............................................
Successfully started the domain : search
domain  Location: /opt/glassfish/glassfish/domains/search
Log File: /opt/glassfish/glassfish/domains/search/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
Mon Aug 19 20:19:23 UTC 2013 : start server completed. adding breathing space of 1min, before getting to next server.


Mon Aug 19 20:20:23 UTC 2013 : Cleaning up...done.


======================= Deployment Complete =======================

Finished: SUCCESS
