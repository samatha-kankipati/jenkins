2013-07-09 11:25:13,281: DEBUG: root: 
========================================================
SETTING UP testrepo.tq_search.search_existing_ticket.test_pagination.TestPagination at 2013-07-09 11:25:13.281155
========================================================
2013-07-09 11:25:13,284: ERROR: ccengine.domain.configuration.AuthConfig: No option 'api_key' in section: 'auth'
2013-07-09 11:25:13,284: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.auth.auth_client.AuthClient object at 0x1f20e410>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/login/melissa.biles') {'headers': {}, 'params': {}, 'data': '{"password": "qwerty"}', 'auth': None, 'verify': False}
2013-07-09 11:25:13,296: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-09 11:25:14,381: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/login/melissa.biles HTTP/1.1" 200 None
2013-07-09 11:25:14,382: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/login/melissa.biles
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'22', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : {"password": "qwerty"}

2013-07-09 11:25:14,383: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 1.0976960659
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:15:51 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : {"authtoken": "d292070b84deac6a2a35e09aaae19954"}
-------------------------------------------------------------------------------
2013-07-09 11:25:14,386: DEBUG: root: 
========================================================
test_incorrect_sorting_specified_raises_bad_request STARTING at 2013-07-09 11:25:14.386618
========================================================
2013-07-09 11:25:14,386: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1f20b5d0>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': 'number|xyz', 'queue': None, 'updatedAt': None, 'number': None, 'priority': None, 'limit': 100, 'createdAt_range': '[2013-03-12T08:00:26.000Z,2013-03-12T11:02:26.000Z]', 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-09 11:25:14,388: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-09 11:25:14,410: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?sort=number%7Cxyz&limit=100&createdAt_range=%5B2013-03-12T08%3A00%3A26.000Z%2C2013-03-12T11%3A02%3A26.000Z%5D&offset=0 HTTP/1.1" 400 None
2013-07-09 11:25:14,411: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : sort=number%7Cxyz&limit=100&createdAt_range=%5B2013-03-12T08%3A00%3A26.000Z%2C2013-03-12T11%3A02%3A26.000Z%5D&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-09 11:25:14,412: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [400]>
response time    : 0.0244450569153
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:16:48 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"badRequest":{"message":"Bad Request","detail":"No enum constant org.elasticsearch.search.sort.SortOrder.XYZ","code":400}}
-------------------------------------------------------------------------------
2013-07-09 11:25:14,412: ERROR: ccengine.domain.tq_search.response.tq_search.Search: argument of type 'NoneType' is not iterable
Traceback (most recent call last):
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/base_domain.py", line 93, in deserialize
    ret = getattr(cls, '_%s_to_obj' % format_type)(serialized_str)
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 90, in _json_to_obj
    ret.ticket = TicketDetails(response)
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 107, in __init__
    if not "source_system" in ticket:
TypeError: argument of type 'NoneType' is not iterable
2013-07-09 11:25:14,414: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Attempted to deserialize type using type: json
2013-07-09 11:25:14,414: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Unble to deserialize the following:
{"badRequest":{"message":"Bad Request","detail":"No enum constant org.elasticsearch.search.sort.SortOrder.XYZ","code":400}}
2013-07-09 11:25:14,414: DEBUG: root: 
========================================================
TEARING DOWN TestPagination at 2013-07-09 11:25:14.414727
========================================================
2013-07-09 11:25:19,413: DEBUG: root: 
========================================================
TEARING DOWN TestPagination at 2013-07-09 11:25:19.413662
========================================================
2013-07-09 11:25:19,416: DEBUG: root: 
========================================================
SETTING UP testrepo.tq_search.search_existing_ticket.test_list_tickets.TestListTickets at 2013-07-09 11:25:19.416075
========================================================
2013-07-09 11:25:19,418: ERROR: ccengine.domain.configuration.AuthConfig: No option 'api_key' in section: 'auth'
2013-07-09 11:25:19,419: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.auth.auth_client.AuthClient object at 0x1f2dba50>, 'POST', 'https://ws.staging.core.rackspace.com/ctkapi/login/melissa.biles') {'headers': {}, 'params': {}, 'data': '{"password": "qwerty"}', 'auth': None, 'verify': False}
2013-07-09 11:25:19,420: INFO: requests.packages.urllib3.connectionpool: Starting new HTTPS connection (1): ws.staging.core.rackspace.com
2013-07-09 11:25:19,722: DEBUG: requests.packages.urllib3.connectionpool: "POST /ctkapi/login/melissa.biles HTTP/1.1" 200 None
2013-07-09 11:25:19,723: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : POST
request url     : https://ws.staging.core.rackspace.com/ctkapi/login/melissa.biles
request params  : 
request headers : CaseInsensitiveDict({'Content-Length': u'22', 'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : {"password": "qwerty"}

2013-07-09 11:25:19,724: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.304389953613
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:15:57 GMT', 'transfer-encoding': 'chunked', 'content-type': 'application/json', 'server': 'Apache/2.2.3 (Red Hat)'})
response body    : {"authtoken": "a63d7cfbdfb1a519c9b63eb30dafebe4"}
-------------------------------------------------------------------------------
2013-07-09 11:25:19,727: DEBUG: root: 
========================================================
test_incorrect_query_parameter_returns_bad_request_400 STARTING at 2013-07-09 11:25:19.727039
========================================================
2013-07-09 11:25:19,727: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1f2d2e10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': None, 'priority': None, '1': '1', 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-09 11:25:19,728: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-09 11:25:19,748: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?1=1&limit=100&offset=0 HTTP/1.1" 400 None
2013-07-09 11:25:19,749: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : 1=1&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-09 11:25:19,749: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [400]>
response time    : 0.0220282077789
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:16:53 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"badRequest":{"message":"Bad Request","detail":"Invalid query parameter: 1","code":400}}
-------------------------------------------------------------------------------
2013-07-09 11:25:19,750: ERROR: ccengine.domain.tq_search.response.tq_search.Search: argument of type 'NoneType' is not iterable
Traceback (most recent call last):
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/base_domain.py", line 93, in deserialize
    ret = getattr(cls, '_%s_to_obj' % format_type)(serialized_str)
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 90, in _json_to_obj
    ret.ticket = TicketDetails(response)
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 107, in __init__
    if not "source_system" in ticket:
TypeError: argument of type 'NoneType' is not iterable
2013-07-09 11:25:19,750: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Attempted to deserialize type using type: json
2013-07-09 11:25:19,750: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Unble to deserialize the following:
{"badRequest":{"message":"Bad Request","detail":"Invalid query parameter: 1","code":400}}
2013-07-09 11:25:19,751: DEBUG: root: 
========================================================
TEARING DOWN TestListTickets at 2013-07-09 11:25:19.751186
========================================================
2013-07-09 11:25:24,746: DEBUG: root: 
========================================================
test_incorrect_value_of_query_parameter_returns_no_ticket STARTING at 2013-07-09 11:25:24.746098
========================================================
2013-07-09 11:25:24,746: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1f2d2e10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': 1, 'sort': None, 'queue': None, 'updatedAt': None, 'number': None, 'priority': None, 'limit': 100, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-09 11:25:24,747: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-09 11:25:24,774: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?status=1&limit=100&offset=0 HTTP/1.1" 200 None
2013-07-09 11:25:24,774: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : status=1&limit=100&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-09 11:25:24,775: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0280139446259
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:16:58 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":0,"limit":100,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=100&status=1&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=100&status=1&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-09 11:25:24,775: DEBUG: root: 
========================================================
TEARING DOWN TestListTickets at 2013-07-09 11:25:24.775329
========================================================
2013-07-09 11:25:29,774: DEBUG: root: 
========================================================
test_negative_value_of_limit_throws_bad_request_400 STARTING at 2013-07-09 11:25:29.774404
========================================================
2013-07-09 11:25:29,774: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1f2d2e10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': None, 'priority': None, 'limit': -1, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-09 11:25:29,776: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-09 11:25:29,794: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?limit=-1&offset=0 HTTP/1.1" 400 None
2013-07-09 11:25:29,795: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : limit=-1&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-09 11:25:29,795: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [400]>
response time    : 0.0201790332794
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:17:03 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"badRequest":{"message":"Bad Request","detail":"Not a valid Request","code":400}}
-------------------------------------------------------------------------------
2013-07-09 11:25:29,795: ERROR: ccengine.domain.tq_search.response.tq_search.Search: argument of type 'NoneType' is not iterable
Traceback (most recent call last):
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/base_domain.py", line 93, in deserialize
    ret = getattr(cls, '_%s_to_obj' % format_type)(serialized_str)
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 90, in _json_to_obj
    ret.ticket = TicketDetails(response)
  File "/var/lib/jenkins/jobs/CloudCafe(Negative)/workspace/lib/ccengine/domain/tq_search/response/tq_search.py", line 107, in __init__
    if not "source_system" in ticket:
TypeError: argument of type 'NoneType' is not iterable
2013-07-09 11:25:29,795: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Attempted to deserialize type using type: json
2013-07-09 11:25:29,796: DEBUG: ccengine.domain.tq_search.response.tq_search.Search: Deserialization Error: Unble to deserialize the following:
{"badRequest":{"message":"Bad Request","detail":"Not a valid Request","code":400}}
2013-07-09 11:25:29,796: DEBUG: root: 
========================================================
TEARING DOWN TestListTickets at 2013-07-09 11:25:29.796363
========================================================
2013-07-09 11:25:34,794: DEBUG: root: 
========================================================
test_no_value_of_limit_returns_zero_tickets STARTING at 2013-07-09 11:25:34.794729
========================================================
2013-07-09 11:25:34,795: DEBUG: ccengine.common.connectors.rest: (<ccengine.clients.tq_search.gate_api.SearchApiClient object at 0x1f2d2e10>, 'GET', 'http://staging.search.api.rackspace.com/tickets') {'headers': {}, 'params': {'status': None, 'sort': None, 'queue': None, 'updatedAt': None, 'number': None, 'priority': None, 'limit': 0, 'createdAt_range': None, 'offset': 0, 'category': None, 'createdAt': None, 'subject': None}, 'data': None, 'auth': None, 'verify': False}
2013-07-09 11:25:34,796: INFO: requests.packages.urllib3.connectionpool: Starting new HTTP connection (1): staging.search.api.rackspace.com
2013-07-09 11:25:34,817: DEBUG: requests.packages.urllib3.connectionpool: "GET /tickets?limit=0&offset=0 HTTP/1.1" 200 None
2013-07-09 11:25:34,817: DEBUG: ccengine.common.connectors.rest: 
------------
REQUEST SENT
------------
request method  : GET
request url     : http://staging.search.api.rackspace.com/tickets
request params  : limit=0&offset=0
request headers : CaseInsensitiveDict({'Accept-Encoding': 'gzip, deflate, compress', 'Accept': '*/*', 'User-Agent': 'python-requests/1.2.3 CPython/2.7.3 Linux/2.6.18-348.2.1.el5xen'})
request body    : None

2013-07-09 11:25:34,818: DEBUG: ccengine.common.connectors.rest: 
-----------------
RESPONSE RECIEVED
-----------------
response status  : <Response [200]>
response time    : 0.0225028991699
response headers : CaseInsensitiveDict({'date': 'Tue, 09 Jul 2013 11:17:08 GMT', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-type': 'application/json', 'server': 'nginx/1.1.19'})
response body    : {"response":{"total":76352,"limit":0,"offset":0,"tickets":[],"facets":[],"links":[{"rel":"last","href":"http://staging.search.api.rackspace.com/tickets?limit=0&offset=0"},{"rel":"next","href":"http://staging.search.api.rackspace.com/tickets?limit=0&offset=0"},{"rel":"first","href":"http://staging.search.api.rackspace.com/tickets?limit=0&offset=0"}]}}
-------------------------------------------------------------------------------
2013-07-09 11:25:34,818: DEBUG: root: 
========================================================
TEARING DOWN TestListTickets at 2013-07-09 11:25:34.818422
========================================================
2013-07-09 11:25:39,814: DEBUG: root: 
========================================================
TEARING DOWN TestListTickets at 2013-07-09 11:25:39.814898
========================================================
2013-07-09 11:25:39,816: INFO: RunnerLog: Ran 5 Tests
2013-07-09 11:25:39,816: INFO: RunnerLog: Passing all tests
2013-07-09 11:25:39,816: INFO: RunnerLog: 

